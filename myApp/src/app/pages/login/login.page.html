<!-- src/app/pages/login/login.page.html -->
<ion-header>
  <ion-toolbar>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <h2>Iniciar Sesión</h2>
  
  <!-- Mostrar errores -->
  @if (errorMessage) {
    <div class="error-message">
      <ion-text color="danger">
        <ion-icon name="warning-outline"></ion-icon>
        {{ errorMessage }}
      </ion-text>
    </div>
  }
  
  <ion-item>
    <ion-label position="stacked">Email</ion-label>
    <ion-input 
      type="email" 
      [(ngModel)]="credentials.email"
      placeholder="demo@example.com">
    </ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="stacked">Contraseña</ion-label>
    <ion-input 
      type="password" 
      [(ngModel)]="credentials.password"
      placeholder="password123">
    </ion-input>
  </ion-item>

  <ion-button 
    expand="block" 
    (click)="login()" 
    [disabled]="isLoading"
    class="ion-margin-top">
    @if (isLoading) {
      <ion-spinner name="crescent"></ion-spinner>
    } @else {
      Iniciar Sesión
    }
  </ion-button>

  <p class="ion-text-center ion-margin-top">
    ¿No tienes cuenta? 
    <a routerLink="/register">Regístrate</a>
  </p>
</ion-content>